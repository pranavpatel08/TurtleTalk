/* ─── BASE TURTLE IMAGE ─── */
.turtle-img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  transform-origin: center bottom;
  transition: filter 0.3s ease;
}

/* ─── STATE: IDLE ─── */
@keyframes turtleFloat {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50%       { transform: translateY(-12px) rotate(1deg); }
}

.turtle-idle .turtle-img {
  animation: turtleFloat 3.5s ease-in-out infinite;
}

/* ─── STATE: LISTENING ─── */
@keyframes turtleListen {
  0%, 100% { transform: translateY(0px) scale(1) rotate(-2deg); }
  50%       { transform: translateY(-6px) scale(1.04) rotate(-2deg); }
}

.turtle-listening .turtle-img {
  animation: turtleListen 1.8s ease-in-out infinite;
}

@keyframes listenRing {
  0%   { transform: scale(0.95); opacity: 0.6; }
  100% { transform: scale(1.25); opacity: 0; }
}

.turtle-listening::before {
  content: '';
  position: absolute;
  inset: 10%;
  border-radius: 50%;
  border: 3px solid #4ECDC4;
  animation: listenRing 1.5s ease-out infinite;
  pointer-events: none;
}

/* ─── STATE: TALKING ─── */
@keyframes turtleTalk {
  0%, 100% { transform: translateY(0px) scale(1); }
  20%       { transform: translateY(-16px) scale(1.05); }
  40%       { transform: translateY(-4px) scale(0.98); }
  60%       { transform: translateY(-10px) scale(1.03); }
  80%       { transform: translateY(-2px) scale(0.99); }
}

.turtle-talking .turtle-img {
  animation: turtleTalk 0.6s ease-in-out infinite;
}

/* ─── STATE: HAPPY ─── */
@keyframes turtleHappy {
  0%   { transform: translateY(0px) rotate(0deg) scale(1); }
  15%  { transform: translateY(-30px) rotate(8deg) scale(1.1); }
  30%  { transform: translateY(-10px) rotate(-5deg) scale(1.05); }
  45%  { transform: translateY(-25px) rotate(6deg) scale(1.08); }
  60%  { transform: translateY(-5px) rotate(-3deg) scale(1.02); }
  75%  { transform: translateY(-15px) rotate(4deg) scale(1.04); }
  100% { transform: translateY(0px) rotate(0deg) scale(1); }
}

.turtle-happy .turtle-img {
  animation: turtleHappy 1.2s ease-in-out;
}

/* ─── MOUTH ANIMATION (talking state only) ─── */
@keyframes mouthPulse {
  0%, 100% { transform: scaleY(0.3) scaleX(1); opacity: 0.8; }
  50%       { transform: scaleY(1) scaleX(0.85); opacity: 1; }
}

.turtle-mouth {
  position: absolute;
  width: 14px;
  height: 10px;
  background: #2d5a3d;
  border-radius: 50%;
  animation: mouthPulse 0.35s ease-in-out infinite;
  pointer-events: none;
}

/* ─── WRAPPER BASE ─── */
.turtle-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: filter 0.4s ease;
}

/* ─── WAVEFORM BARS (Talk page) ─── */
@keyframes waveBar {
  from { height: 4px; }
  to   { height: 32px; }
}

/* ─── FLOATING EMOJI (Home page) ─── */
@keyframes floatEmoji {
  0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.6; }
  50%       { transform: translateY(-20px) rotate(10deg); opacity: 1; }
}
